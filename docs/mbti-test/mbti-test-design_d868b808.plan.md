---
name: mbti-test-design
overview: mbti-test 폴더 기준으로, 32문항 2지선다 분석형 MBTI 테스트의 정보구조/질문 데이터/점수 계산/% 기반 결과·심화 분석/확장 구조를 구현 없이 설계 문서로 정리합니다.
todos:
  - id: doc-structure
    content: 홈/질문/결과 페이지 구성과 사용자 흐름 설계 확정
    status: pending
  - id: questions-schema
    content: 32문항 질문 데이터 JSON 구조(축/방향/가중치) 정의 및 샘플 작성
    status: pending
  - id: scoring
    content: 축별 점수/% 계산 및 동률 처리 규칙 설계
    status: pending
  - id: result-design
    content: 결과 페이지(유형+축% 시각화+구간별 심화 분석) 설계
    status: pending
  - id: analysis-templates
    content: 유형 템플릿 + 축별 구간 문구 레이어 구조 설계
    status: pending
  - id: extensibility
    content: 궁합/저장(localStorage/서버) 확장 구조 제안
    status: pending
isProject: false
---

## mbti-test 설계 문서 (구현 없음)

### 목표

- **분석 중심 MBTI 테스트**
- 질문 형식: **상황 제시 + 반대 선택지 2지선다**
- 문항 수: 총 32문항
  - EI 8문항 / SN 8문항 / TF 8문항 / JP 8문항 (균등)
- 결과: 단순 4글자 유형 출력이 아니라 **각 축별 % + 구간별 심화 분석** 제공

---

### 1) 전체 서비스 구조 설계

#### 페이지 구성

- **Home(홈)**: 테스트 소개, 주의사항(비공식/오락·자기이해 목적), 시작 버튼
- **Test(질문)**: 진행률, 질문 카드(상황+선택지 2개), 이전/다음(또는 이전만), 중간 저장(선택)
- **Result(결과)**: 
  - 최종 MBTI 4글자
  - EI/SN/TF/JP 각각 **% 시각화**
  - 축별 심화 분석(구간 기반)
  - 전체 요약(한 문단)
  - 다시하기/공유(선택)

#### 사용자 흐름

- **시작**: Home → “Start” 클릭
- **진행**:
  - Test에서 32문항 순차 응답
  - 응답할 때마다 진행률 업데이트
  - 모든 문항 답변 완료 시 자동으로 Result로 이동
- **결과 확인**:
  - MBTI 타입 + 축별 % + 심화 분석
  - 다시하기(초기화), 결과 저장/복사(선택)

---

### 2) 질문 설계 구조

#### 질문(문항) 기본 규칙

- 각 문항은 다음 3요소로 구성
  - **상황(Scenario)**: 감정·사고·행동이 갈릴 만한 “현실 상황”
  - **선택지 A / B**: 서로 반대 성향이 자연스럽게 드러나는 문장
  - **축/방향 매핑**: A/B가 각각 어떤 축(EI/SN/TF/JP)의 어떤 방향(E/I, S/N, T/F, J/P) 점수를 올리는지

#### 축별 질문 작성 가이드

- **EI**: 에너지 충전/사회적 자극/말하기-생각하기 순서/관계 확장 선호
- **SN**: 정보 처리(사실/경험 vs 가능성/의미)/현실적 디테일 vs 큰그림·추상
- **TF**: 판단 기준(논리/일관성 vs 관계/정서 영향)/표현 방식 차이
- **JP**: 생활/업무 스타일(계획·정리 vs 유연·즉흥)/결정 속도·마감 관리

#### 문항 배치(순서) 설계

- 축이 한꺼번에 몰리면 피로·편향이 생길 수 있으므로 **교차 배치** 권장
- 추천: 4축을 한 묶음으로 8회 반복 = 32문항
  - 예: 1(EI)→2(SN)→3(TF)→4(JP)→5(EI)…

#### 질문 데이터 구조(JSON) 설계

- 질문 데이터는 정적 JSON으로 관리(버전 필드 포함)
- 각 문항에 고유 id, 축(axis), 선택지(2개), 선택지별 점수 방향(direction), 가중치(weight) 포함

##### JSON 스키마(개념)

- `version`: 데이터 버전
- `questions[]`:
  - `id`: 문자열(예: `EI_01`)
  - `axis`: `EI | SN | TF | JP`
  - `prompt`: 상황 텍스트
  - `choices[2]`:
    - `id`: `A | B`
    - `text`: 선택지 문장
    - `score`: `{ axis, direction, points }`
  - `weight`: 문항 가중치(기본 1)

##### JSON 예시(2문항 샘플)

```json
{
  "version": "1.0",
  "questions": [
    {
      "id": "TF_01",
      "axis": "TF",
      "prompt": "같이 일하는 사람이 ‘싸가지 없는데 일은 잘해’라고 말했을 때, 내 머릿속 반응은?",
      "choices": [
        {
          "id": "A",
          "text": "‘일은 잘한다’는 인정이네. 성과가 중요하지.",
          "score": { "axis": "TF", "direction": "T", "points": 1 }
        },
        {
          "id": "B",
          "text": "‘싸가지 없다’는 표현이 먼저 걸려. 관계가 불편해질 것 같아.",
          "score": { "axis": "TF", "direction": "F", "points": 1 }
        }
      ],
      "weight": 1
    },
    {
      "id": "JP_01",
      "axis": "JP",
      "prompt": "내일 오전 9시까지 제출해야 하는 일이 생겼다. 나는 보통?",
      "choices": [
        {
          "id": "A",
          "text": "지금 바로 범위를 쪼개고 체크리스트를 만든 뒤, 계획대로 처리한다.",
          "score": { "axis": "JP", "direction": "J", "points": 1 }
        },
        {
          "id": "B",
          "text": "일단 큰 흐름만 잡고, 진행하면서 유연하게 바꾸며 처리한다.",
          "score": { "axis": "JP", "direction": "P", "points": 1 }
        }
      ],
      "weight": 1
    }
  ]
}
```

> 실제 서비스에서는 위 구조로 **32문항 전체**를 같은 패턴으로 작성한다.

---

### 3) 점수 계산 로직 설계

#### 축별 집계 방식(8문항 기준)

- 각 축은 8문항
- 각 문항은 2지선다이며, 선택된 방향에 점수 부여
- 기본은 `points=1`, 필요 시 문항별 `weight`로 보정 가능

#### 권장 집계 모델(단순·설명 쉬움)

- 축별로 2개의 카운터를 둔다.
  - 예: EI축이면 `E_points`, `I_points`
- 각 문항 응답 시
  - `axis` 확인(EI/SN/TF/JP)
  - 선택지의 `direction` 확인(E/I 등)
  - 해당 방향 점수에 `points * weight`를 더함
- 축별 총점 `axisTotal = (E_points + I_points)`

#### % 계산 방식

- 예: EI 축
  - `E% = round(E_points / axisTotal * 100)`
  - `I% = 100 - E%`
- 동일 방식으로 SN, TF, JP 계산

#### 최종 MBTI 유형 결정

- 각 축에서 더 높은 %의 방향이 글자 결정
  - EI: E% >= I% 이면 `E` else `I`
  - SN: S% >= N% 이면 `S` else `N`
  - TF: T% >= F% 이면 `T` else `F`
  - JP: J% >= P% 이면 `J` else `P`

#### 동률(50/50) 처리 설계(중요)

- 8문항 * 1점이면 4:4 동률이 가능하므로 규칙을 명시해야 함
- 권장(설명 쉬움, 루프 없음):
  - **동률이면 “균형형”으로 표기**하되 최종 4글자는 아래 우선순위로 결정
    1. 그 축의 “앵커 문항(2개)”에 `weight=2`를 부여(총점이 짝수라도 동률 확률 감소)
    2. 그래도 동률이면 기본 글자 규칙(예: E/S/T/J 우선)로 결정하고, 결과에는 “균형(50/50)”로 명시

---

### 4) 결과 페이지 설계

#### 최종 MBTI 유형 표시

- 큰 타이포로 `ENFP` 같은 4글자
- 보조 문구: “당신의 성향은 각 축에서 이렇게 나타났어요.”

#### 각 지표별 % 시각화 방식 제안

- 축별 카드 4개(EI/SN/TF/JP)
- 각 카드 구성:
  - 축 이름(예: Extraversion vs Introversion)
  - 막대(Progress bar) 1개
  - 좌/우 레이블(E ↔ I)
  - % 텍스트(예: I 75% / E 25%)

#### 기본 유형 분석 구조

- “유형 전체 요약” 1문단
- “핵심 키워드” 4~8개 태그 형태
- 축별로 기본 설명(항상 고정 문구)

#### % 구간별 심화 분석 로직(구간화 제안)

- 축별 우세 방향의 %를 기준으로 구간화
  - **50%**: 균형형
  - **51~60%**: 약한 선호(상황 영향 큼)
  - **61~75%**: 중간 선호(일관되게 나타남)
  - **76~100%**: 강한 선호(뚜렷한 경향)
- 결과 페이지에서는 축별로
  - **현재 구간 + 그에 맞는 문구 세트**를 선택하여 표시

---

### 5) 분석 구조 설계

#### 기본 유형 분석 템플릿 구조(데이터화 권장)

- `type`: "ENFP" 같은 키
- `summary`: 전체 요약
- `keywords[]`: 핵심 키워드
- `strengths[]`: 강점(일반)
- `pitfalls[]`: 주의점(일반)
- `workStyle`: 업무/학습 스타일
- `communication`: 커뮤니케이션 경향

> 위는 “유형 고정” 텍스트. 여기에 축별 % 기반 문구를 **레이어로 덧씌운다**.

#### % 기반 강점 분석 로직

- 축별로 (우세 방향, 구간)에 따라 강점 문구를 선택
- 예: I가 76% 이상이면
  - 강점: “깊이 몰입”, “혼자서도 추진”, “관찰 기반 통찰”
- I가 51~60%면
  - 강점: “필요할 땐 혼자 정리”, “관계와 거리 조절이 유연”

#### % 기반 주의점 분석 로직

- 강점의 반대면을 “과하면 생기는 리스크”로 작성
- 예: T 76% 이상
  - 주의점: “말이 차갑게 들릴 수 있음”, “감정 신호를 놓칠 수 있음”
- T 51~60%
  - 주의점: “상황에 따라 판단 기준이 흔들릴 수 있음(피로 시)”

#### 같은 유형이라도 % 차이로 문구가 달라지는 구조

- 최종 결과 문구는 다음 조합으로 생성
  - `typeTemplate(ENFP 고정)` + `axisNarratives(EI,SN,TF,JP 각각 구간별)` + `overallBalanceComment(균형형 여부)`
- 축별 문구는 다음 키로 조회 가능
  - 예: `axisNarratives["TF"]["T"]["76_100"].strengths[]`

---

### 6) 확장 가능성

#### 향후 궁합 기능 추가 시 확장 구조

- `compatibility/` 데이터 계층을 추가
  - 유형-유형 조합(16x16) 또는 축 조합 기반(연산)
- 추천 방식:
  - 1단계: 유형 조합(ENFP x ISTJ) 텍스트 템플릿
  - 2단계: 축 %까지 고려해 문구를 가변(예: T/F 차이가 큰 커플은 소통 팁 강조)

#### 데이터 저장 구조 제안(선택)

- 완전 정적 사이트 기준:
  - 진행상태/응답을 `localStorage`에 저장(중간 이탈 대비)
  - 결과도 `localStorage`에 저장(재방문 시 재확인)
- 향후 서버 도입 시(선택):
  - 익명 응답 통계(문항별 선택 비율), 유형 분포, 축 평균 등 분석 가능

---

### 파일 구조 제안(mbti-test)

- 구현은 나중 단계이므로, 데이터/분석/페이지를 분리 가능한 구조만 제안
- `mbti-test/`
  - `index.html` (Home)
  - `test.html` (Test)
  - `result.html` (Result)
  - `assets/`
    - `og.png` (선택)
  - `data/`
    - `questions.v1.json`
    - `analysis.v1.json` (유형/축 구간별 문구 템플릿)
  - `styles/`
    - `base.css`
    - `components.css`
    - `pages.css`
  - `src/`
    - `state.js` (응답/진행 상태 모델)
    - `scoring.js` (점수/%/유형 결정)
    - `render.js` (UI 렌더링)
    - `storage.js` (localStorage 저장/복구)

---

### 최소 샘플 문항 세트 구성 제안(문서용)

- 실제 32문항 작성 시, 축별 8문항을 아래처럼 묶어 품질 체크
  - EI: 8문항(사회적 자극/피로 회복/의사표현 방식/관계 확장)
  - SN: 8문항(디테일/추상/기억 방식/의미 부여)
  - TF: 8문항(피드백/갈등/평가/공정성)
  - JP: 8문항(마감/정리/변경/즉흥)

---

### 산출물 정의(이번 단계)

- 구현 없이 **설계 문서**로 위 구조/로직/데이터 포맷을 확정
- 다음 단계(원할 때): 32문항 실제 작성 + 축/구간별 문구 작성(analysis JSON 채우기)

